v(1 .. 20).

e(1,2,3). e(1,5,2). e(1,10,1). e(1,11,3). e(2,3,3).
e(3,6,3). e(3,7,2). e(3,10,2). e(4,8,2). e(4,14,2).
e(4,17,1). e(5,11,1). e(5,13,1). e(5,19,1). e(6,7,2).
e(6,18,3). e(7,8,1). e(7,10,2). e(8,10,3). e(9,15,3).
e(12,13,2). e(13,16,1). e(13,19,4). e(14,18,4).
e(15,18,3). e(16,17,3). e(16,19,2). e(16,20,2).
e(17,19,1). e(17,20,1).

1 { v_in(X) : v(X) }.
e_in(X, Y) :- e(X, Y, W), v_in(X), not v_in(Y).
e_in(X, Y) :- e(X, Y, W), v_in(Y), not v_in(X).
#maximize{ W, X, Y : e_in(X, Y), e(X, Y, W) }.
